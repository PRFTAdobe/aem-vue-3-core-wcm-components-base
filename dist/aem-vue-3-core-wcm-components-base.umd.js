(function(f,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue"),require("@adobe/aem-spa-page-model-manager"),require("aem-vue-3-editable-components"),require("vue-router"),require("dompurify")):typeof define=="function"&&define.amd?define(["exports","vue","@adobe/aem-spa-page-model-manager","aem-vue-3-editable-components","vue-router","dompurify"],t):(f=typeof globalThis<"u"?globalThis:f||self,t(f.aemVueCoreWcmComponentsBase={},f.Vue,f.AemSpaPageModelManager,f.AemVueEditableComponents,f.VueRouter,f.DOMPurify))})(this,function(f,t,k,y,P,A){"use strict";const J={emptyLabel:"Breadcrumb",isEmpty(s){return s.items==null||s.items.length===0}},X={emptyLabel:"Button",isEmpty(s){return s.text==null||s.text.length===0}},Q={emptyLabel:"Download",isEmpty(s){return(typeof s.url>"u"||s.url===null||s.url.length===0)&&(typeof s.handleOnClick>"u"||s.handleOnClick===null)}},Z={emptyLabel:"Embed",isEmpty(s){var n,o;let e=!1;return s.type==="URL"?e=typeof s.url<"u"&&typeof s.result<"u"&&typeof((n=s.result)==null?void 0:n.processor)<"u":s.type==="EMBEDDABLE"?e=typeof s.youTubeProps<"u"&&typeof((o=s.youTubeProps)==null?void 0:o.youtubeVideoId)<"u":s.type==="HTML"&&(e=!!s.html),!s||!e}},K={emptyLabel:"Image",isEmpty(s){return!s||!s.src||s.src.trim().length<1}},ee={emptyLabel:"Language Navigation",isEmpty(s){return s.items==null||s.items.length===0}},te={emptyLabel:"Navigation",isEmpty(s){return s.items==null||s.items.length===0}},se={emptyLabel:"Teaser",isEmpty(s){const e=n=>(Array.isArray(n)?n.length:n.trim().length)===0;return(!s.imagePath||e(s.imagePath))&&(!s.pretitle||e(s.pretitle))&&(!s.title||e(s.title))&&(!s.description||e(s.description))&&(!s.actions||e(s.actions))}},ne={emptyLabel:"Title",isEmpty(s){return!s||!s.text||s.text.trim().length<1}},oe={emptyLabel:"Text",isEmpty(s){return!s||!s.text||s.text.trim().length<1}},ie=["href","target"],re={key:1,class:"cmp-span"},B=t.defineComponent({inheritAttrs:!1,__name:"CoreLink",props:{baseCssClass:{type:String,default:"cmp-link"},class:{type:String},href:{type:String,required:!0},navigable:{type:Boolean,default:!0},target:{type:String,default:"_self",validator:s=>["_self","_blank","_parent","_top"].includes(s)}},setup(s){const e=s,n=t.useAttrs(),o=P.useRoute(),r=P.useRouter(),a=t.computed(()=>{const i=[e.class,e.baseCssClass];return o.path&&typeof o.path<"u"&&o.path===e.href&&i.push("cmp-link--active"),i}),l=i=>{const d=r.getRoutes().map(c=>c.path);!k.AuthoringUtils.isEditMode()&&!k.AuthoringUtils.isPreviewMode()&&e.target!=="_blank"&&d.includes(e.href)&&(i.preventDefault(),r.push({path:e.href}))};return(i,d)=>e.navigable?(t.openBlock(),t.createElementBlock("a",t.mergeProps({key:0,class:a.value,href:e.href,target:e.target},{...t.unref(n)},{onClick:l}),[t.renderSlot(i.$slots,"default")],16,ie)):(t.openBlock(),t.createElementBlock("span",re,[t.renderSlot(i.$slots,"default")]))}}),ae=["id","aria-label"],le=t.defineComponent({inheritAttrs:!1,__name:"CoreBreadcrumb",props:{ariaLabel:{type:String},items:{type:Array},...y.componentProperties("cmp-breadcrumb")},setup(s){const e=s,n=t.inject("isInEditor",k.AuthoringUtils.isInEditor()),o=t.computed(()=>y.componentClassNames(e.baseCssClass,e.appliedCssClassNames,e.cssClassNames,e.containerProps,n,e.aemNoDecoration)),r=a=>{const l=(c,_=!1)=>{const E={itemProp:"name"};return _&&(E["aria-current"]="page"),t.h("span",E,c)};let d=(c=>t.h(B,{href:c.link.url,class:`${e.baseCssClass}__item-link`,itemProp:"item",navigable:c.navigable},()=>l(c.title)))(a);return a.active&&(d=l(a.title,!0)),t.h("li",{class:[`${e.baseCssClass}__item`,{[`${e.baseCssClass}__item--active`]:a.active}],itemProp:"itemListElement",itemScope:!0,itemType:"http://schema.org/ListItem"},d)};return(a,l)=>(t.openBlock(),t.createElementBlock("nav",{id:e.id,"aria-label":e.ariaLabel,class:t.normalizeClass(o.value)},[t.createElementVNode("ol",{class:t.normalizeClass(`${e.baseCssClass}__list`),itemScope:"true",itemType:"http://schema.org/BreadcrumbList"},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.items,i=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(r(i)),{key:i.toString()}))),128))],2)],10,ae))}}),Ze="",ce=["type"],de=t.defineComponent({inheritAttrs:!1,__name:"CoreButton",props:{ariaLabel:{type:String},handleOnClick:{type:Function},icon:{type:String},link:{type:String},text:{type:String},type:{type:String,default:"button",validator(s){return["submit","reset","button"].includes(s)}},...y.componentProperties("cmp-button")},setup(s){const e=s,n=t.inject("isInEditor",k.AuthoringUtils.isInEditor()),o=t.computed(()=>y.componentClassNames(e.baseCssClass,e.appliedCssClassNames,e.cssClassNames,e.containerProps,n,e.aemNoDecoration)),r=a=>{e.handleOnClick&&typeof e.handleOnClick=="function"&&e.handleOnClick(a)};return(a,l)=>e.text?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[e.link?(t.openBlock(),t.createBlock(B,{key:0,"aria-label":e.ariaLabel,class:t.normalizeClass(o.value.join(" ")),href:e.link,onClick:r},{default:t.withCtx(()=>[e.icon?(t.openBlock(),t.createElementBlock("span",{key:0,class:t.normalizeClass(`${e.baseCssClass}__icon ${e.baseCssClass}__icon--${e.icon}`)},null,2)):t.createCommentVNode("",!0),t.createElementVNode("span",{class:t.normalizeClass(`${e.baseCssClass}__text`)},t.toDisplayString(e.text),3)]),_:1},8,["aria-label","class","href"])):(t.openBlock(),t.createElementBlock("button",{key:1,class:t.normalizeClass(o.value),type:e.type,onClick:r},[e.icon?(t.openBlock(),t.createElementBlock("span",{key:0,class:t.normalizeClass(`${e.baseCssClass}__icon ${e.baseCssClass}__icon--${e.icon}`)},null,2)):t.createCommentVNode("",!0),t.createElementVNode("span",{class:t.normalizeClass(`${e.baseCssClass}__text`)},t.toDisplayString(e.text),3)],10,ce))],64)):t.createCommentVNode("",!0)}}),Ke="",pe=["id"],me=["innerHTML"],ue=t.defineComponent({inheritAttrs:!1,__name:"CoreDownload",props:{actionText:{type:String,default:"Download"},description:{type:String},extension:{type:String},filename:{type:String},format:{type:String},handleOnClick:{type:Function},size:{type:String},title:{type:String},titleType:{type:String,default:"h3"},url:{type:String},...y.componentProperties("cmp-download")},setup(s){const e=s,n=t.inject("isInEditor",k.AuthoringUtils.isInEditor()),o=t.inject("componentMapping",new y.ComponentMapping),r=t.computed(()=>{const d=y.componentClassNames(e.baseCssClass,e.appliedCssClassNames,e.cssClassNames,e.containerProps,n,e.aemNoDecoration);return n&&d.push("cq-dd-file"),d}),a=t.computed(()=>!(e.url&&e.url.length>0||e.handleOnClick&&typeof e.handleOnClick=="function")),l=t.computed(()=>{const d=o.get("stanley/components/button");return t.h(d,{class:`${e.baseCssClass}__action`,link:e.url||"#",handleOnClick:e.handleOnClick,text:e.actionText})}),i=d=>{e.handleOnClick&&typeof e.handleOnClick=="function"&&e.handleOnClick(d)};return(d,c)=>a.value?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",{key:0,id:e.id,class:t.normalizeClass(r.value)},[e.title?(t.openBlock(),t.createBlock(t.resolveDynamicComponent(e.titleType),{key:0,class:t.normalizeClass(`${e.baseCssClass}__title`)},{default:t.withCtx(()=>[e.url||e.handleOnClick?(t.openBlock(),t.createBlock(B,{key:0,class:t.normalizeClass(`${e.baseCssClass}__title-link`),href:e.url||"#",onClick:i},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(e.title),1)]),_:1},8,["class","href"])):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.createTextVNode(t.toDisplayString(e.title),1)],64))]),_:1},8,["class"])):t.createCommentVNode("",!0),e.description?(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(`${e.baseCssClass}__description`),innerHTML:e.description},null,10,me)):t.createCommentVNode("",!0),e.filename||e.size||e.format?(t.openBlock(),t.createElementBlock("dl",{key:2,class:t.normalizeClass(`${e.baseCssClass}__properties`)},[e.filename?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass([`${e.baseCssClass}__property`,`${e.baseCssClass}__property--filename`])},[t.createElementVNode("dt",{class:t.normalizeClass(`${e.baseCssClass}__property-label`)},"Filename",2),t.createElementVNode("dd",{class:t.normalizeClass(`${e.baseCssClass}__property-content`)},t.toDisplayString(e.filename),3)],2)):t.createCommentVNode("",!0),e.size?(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass([`${e.baseCssClass}__property`,`${e.baseCssClass}__property--size`])},[t.createElementVNode("dt",{class:t.normalizeClass(`${e.baseCssClass}__property-label`)},"Size",2),t.createElementVNode("dd",{class:t.normalizeClass(`${e.baseCssClass}__property-content`)},t.toDisplayString(e.size),3)],2)):t.createCommentVNode("",!0),e.format?(t.openBlock(),t.createElementBlock("div",{key:2,class:t.normalizeClass([`${e.baseCssClass}__property`,`${e.baseCssClass}__property--format`])},[t.createElementVNode("dt",{class:t.normalizeClass(`${e.baseCssClass}__property-label`)},"Format",2),t.createElementVNode("dd",{class:t.normalizeClass(`${e.baseCssClass}__property-content`)},t.toDisplayString(e.format),3)],2)):t.createCommentVNode("",!0)],2)):t.createCommentVNode("",!0),(t.openBlock(),t.createBlock(t.resolveDynamicComponent(l.value)))],10,pe))}}),et="",fe=["id"],he=["innerHTML"],ye=["href"],_e=["href"],Ce=["innerHTML"],be=t.defineComponent({inheritAttrs:!1,__name:"CoreEmbed",props:{type:{type:String,default:"URL",validator:s=>["URL","HTML","EMBEDDABLE"].includes(s)},result:{type:Object},url:{type:String,default:""},html:{type:String},youTubeProps:{type:Object,default:()=>({})},...y.componentProperties("cmp-embed")},setup(s){const e=s,n=t.inject("isInEditor",k.AuthoringUtils.isInEditor()),o=(p,u,m=!0,h="text/javascript")=>new Promise((b,g)=>{try{const C=document.createElement("script");C.type=h,C.async=m,C.src=p,u&&Object.keys(u).forEach($=>{C.dataset[$]=u[$]}),C.addEventListener("load",()=>{b({status:!0})}),C.addEventListener("error",()=>{g({status:!1,message:"Failed to load the script ï¼„{FILE_URL}"})}),document.body.appendChild(C)}catch(C){g(C)}}),r=p=>A.sanitize(p),a=t.computed(()=>{const p=y.componentClassNames(e.baseCssClass,e.appliedCssClassNames,e.cssClassNames,e.containerProps,n,e.aemNoDecoration);return p.push({"cq-dd-embed":n||!1}),p}),l=()=>{var w,D,W,G,v,Y;const p=(w=e.youTubeProps)==null?void 0:w.youtubeVideoId,u=(D=e.youTubeProps)==null?void 0:D.youtubeAutoPlay,m=(W=e.youTubeProps)==null?void 0:W.youtubeLoop,h=(G=e.youTubeProps)==null?void 0:G.youtubeMute,b=(v=e.youTubeProps)==null?void 0:v.youtubePlaysInline,g=(Y=e.youTubeProps)==null?void 0:Y.youtubeRel,C=`https://www.youtube.com/embed/${p}`,$={mute:`${+h}`,autoplay:`${+u}`,loop:`${+m}`,playlist:`${p}`,rel:`${+g}`,playsinline:`${+b}`},S=new URLSearchParams($).toString();return`${C}?${S}`},i=t.computed(()=>{var p,u,m,h,b;return t.h("iFrame",{type:"text/html",width:((p=e.youTubeProps)==null?void 0:p.layout)==="responsive"?"100%":(u=e.youTubeProps)==null?void 0:u.youtubeWidth,height:((m=e.youTubeProps)==null?void 0:m.layout)==="responsive"?"100%":(h=e.youTubeProps)==null?void 0:h.youtubeHeight,src:l(),frameborder:0,class:`${e.baseCssClass}__embeddable-iframe`,allowfullscreen:!0,allow:(b=e.youTubeProps)!=null&&b.youtubeAutoPlay?"autoplay; fullscreen;":"fullscreen;",title:"YouTube Video",ariaLabel:"YouTube Video"})}),d=t.computed(()=>{if(e.result&&e.result.options&&e.result.options.response){const{response:p}=e.result.options;return t.h("img",{title:p==null?void 0:p.title,width:p==null?void 0:p.width,height:p==null?void 0:p.height,src:p==null?void 0:p.url})}return t.h("img")}),c=t.computed(()=>{if(e.result&&e.result.options&&e.result.options.response){const{response:p}=e.result.options;return p.type}}),_=t.computed(()=>{if(e.result&&e.result.options&&e.result.options.response)return e.result.options.response.url}),E=t.computed(()=>{if(e.result&&e.result.options&&e.result.options.response)return e.result.options.response.title}),N=t.computed(()=>{if(e.result&&e.result.options&&e.result.options.response){const{response:p}=e.result.options;return p.html}}),T=()=>{var g,C,$,S;const p=((g=e.result)==null?void 0:g.processor)==="pinterest",u=((C=e.result)==null?void 0:C.processor)==="oembed"&&((S=($=e.result)==null?void 0:$.options)==null?void 0:S.provider)==="Twitter";let m="//assets.pinterest.com/js/pinit.js";u&&(m="//platform.twitter.com/widgets.js");let h=document.querySelector(`script[src="${m}"]`),b={};p&&(b={pinBuild:"doBuild"}),h?h.dataset.loaded==="true"?(console.debug("Processor Script found!  Running doBuild"),typeof window.doBuild=="function"&&window.doBuild()):(console.debug("Processor Script loading!  Loading and running doBuild"),h.addEventListener("load",()=>{typeof window.doBuild=="function"&&window.doBuild()})):(console.debug("Processor Script not found!  Running loadScript"),o(m,b).then(()=>{console.debug("Processor Script loaded!  Running doBuild"),typeof window.doBuild=="function"&&window.doBuild(),h=document.querySelector(`script[src="${m}"]`),h.dataset.loaded=(!0).toString()}).catch(w=>{console.error(w)}))};return t.onMounted(()=>{T()}),t.onUpdated(()=>{T()}),(p,u)=>{var m,h,b,g,C;return t.openBlock(),t.createElementBlock("div",{id:e.id,class:t.normalizeClass(a.value)},[e.type==="HTML"?(t.openBlock(),t.createElementBlock("div",{key:0,innerHTML:`${r(e.html)}`},null,8,he)):e.type==="EMBEDDABLE"?(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[((m=e.youTubeProps)==null?void 0:m.layout)==="responsive"?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(`${p.baseCssClass}__embeddable-wrapper`),style:t.normalizeStyle({"padding-bottom":((h=e.youTubeProps)==null?void 0:h.layout)==="responsive"?`${(b=s.youTubeProps)==null?void 0:b.youtubeAspectRatio}%`:0})},[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(i.value)))],6)):(t.openBlock(),t.createBlock(t.resolveDynamicComponent(i.value),{key:1}))],64)):e.type==="URL"?(t.openBlock(),t.createElementBlock(t.Fragment,{key:2},[((g=e.result)==null?void 0:g.processor)==="pinterest"?(t.openBlock(),t.createElementBlock("a",{key:0,href:e.url,"data-pin-build":"doBuild","data-pin-do":"embedPin"},t.toDisplayString(e.url),9,ye)):((C=e.result)==null?void 0:C.processor)==="oembed"?(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[c.value==="photo"?(t.openBlock(),t.createBlock(t.resolveDynamicComponent(d.value),{key:0})):c.value==="link"?(t.openBlock(),t.createElementBlock("a",{key:1,href:_.value},t.toDisplayString(E.value),9,_e)):c.value==="video"||c.value==="rich"?(t.openBlock(),t.createElementBlock("div",{key:2,innerHTML:N.value},null,8,Ce)):t.createCommentVNode("",!0)],64)):t.createCommentVNode("",!0)],64)):t.createCommentVNode("",!0)],10,fe)}}}),tt="";var I=function(){if(typeof Map<"u")return Map;function s(e,n){var o=-1;return e.some(function(r,a){return r[0]===n?(o=a,!0):!1}),o}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var o=s(this.__entries__,n),r=this.__entries__[o];return r&&r[1]},e.prototype.set=function(n,o){var r=s(this.__entries__,n);~r?this.__entries__[r][1]=o:this.__entries__.push([n,o])},e.prototype.delete=function(n){var o=this.__entries__,r=s(o,n);~r&&o.splice(r,1)},e.prototype.has=function(n){return!!~s(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,o){o===void 0&&(o=null);for(var r=0,a=this.__entries__;r<a.length;r++){var l=a[r];n.call(o,l[1],l[0])}},e}()}(),R=typeof window<"u"&&typeof document<"u"&&window.document===document,O=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),ge=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(O):function(s){return setTimeout(function(){return s(Date.now())},1e3/60)}}(),ke=2;function Ee(s,e){var n=!1,o=!1,r=0;function a(){n&&(n=!1,s()),o&&i()}function l(){ge(a)}function i(){var d=Date.now();if(n){if(d-r<ke)return;o=!0}else n=!0,o=!1,setTimeout(l,e);r=d}return i}var Be=20,we=["top","right","bottom","left","width","height","size","weight"],Ne=typeof MutationObserver<"u",$e=function(){function s(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Ee(this.refresh.bind(this),Be)}return s.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},s.prototype.removeObserver=function(e){var n=this.observers_,o=n.indexOf(e);~o&&n.splice(o,1),!n.length&&this.connected_&&this.disconnect_()},s.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},s.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},s.prototype.connect_=function(){!R||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Ne?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},s.prototype.disconnect_=function(){!R||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},s.prototype.onTransitionEnd_=function(e){var n=e.propertyName,o=n===void 0?"":n,r=we.some(function(a){return!!~o.indexOf(a)});r&&this.refresh()},s.getInstance=function(){return this.instance_||(this.instance_=new s),this.instance_},s.instance_=null,s}(),j=function(s,e){for(var n=0,o=Object.keys(e);n<o.length;n++){var r=o[n];Object.defineProperty(s,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return s},L=function(s){var e=s&&s.ownerDocument&&s.ownerDocument.defaultView;return e||O},q=z(0,0,0,0);function x(s){return parseFloat(s)||0}function M(s){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(o,r){var a=s["border-"+r+"-width"];return o+x(a)},0)}function Se(s){for(var e=["top","right","bottom","left"],n={},o=0,r=e;o<r.length;o++){var a=r[o],l=s["padding-"+a];n[a]=x(l)}return n}function Te(s){var e=s.getBBox();return z(0,0,e.width,e.height)}function Le(s){var e=s.clientWidth,n=s.clientHeight;if(!e&&!n)return q;var o=L(s).getComputedStyle(s),r=Se(o),a=r.left+r.right,l=r.top+r.bottom,i=x(o.width),d=x(o.height);if(o.boxSizing==="border-box"&&(Math.round(i+a)!==e&&(i-=M(o,"left","right")+a),Math.round(d+l)!==n&&(d-=M(o,"top","bottom")+l)),!Oe(s)){var c=Math.round(i+a)-e,_=Math.round(d+l)-n;Math.abs(c)!==1&&(i-=c),Math.abs(_)!==1&&(d-=_)}return z(r.left,r.top,i,d)}var Pe=function(){return typeof SVGGraphicsElement<"u"?function(s){return s instanceof L(s).SVGGraphicsElement}:function(s){return s instanceof L(s).SVGElement&&typeof s.getBBox=="function"}}();function Oe(s){return s===L(s).document.documentElement}function xe(s){return R?Pe(s)?Te(s):Le(s):q}function ze(s){var e=s.x,n=s.y,o=s.width,r=s.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(a.prototype);return j(l,{x:e,y:n,width:o,height:r,top:n,right:e+o,bottom:r+n,left:e}),l}function z(s,e,n,o){return{x:s,y:e,width:n,height:o}}var Ae=function(){function s(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=z(0,0,0,0),this.target=e}return s.prototype.isActive=function(){var e=xe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},s.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},s}(),Re=function(){function s(e,n){var o=ze(n);j(this,{target:e,contentRect:o})}return s}(),De=function(){function s(e,n,o){if(this.activeObservations_=[],this.observations_=new I,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=o}return s.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof L(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new Ae(e)),this.controller_.addObserver(this),this.controller_.refresh())}},s.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof L(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},s.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},s.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},s.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(o){return new Re(o.target,o.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},s.prototype.clearActive=function(){this.activeObservations_.splice(0)},s.prototype.hasActive=function(){return this.activeObservations_.length>0},s}(),U=typeof WeakMap<"u"?new WeakMap:new I,V=function(){function s(e){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=$e.getInstance(),o=new De(e,n,this);U.set(this,o)}return s}();["observe","unobserve","disconnect"].forEach(function(s){V.prototype[s]=function(){var e;return(e=U.get(this))[s].apply(e,arguments)}});var Ie=function(){return typeof O.ResizeObserver<"u"?O.ResizeObserver:V}();const je=["id"],H=t.defineComponent({inheritAttrs:!1,__name:"CoreImage",props:{alt:{type:String,required:!0},displayPopupTitle:{type:Boolean,default:!1},imageLink:{type:Object,default:()=>({valid:!1,attributes:{}})},src:{type:String,required:!0},smartCropRendition:{type:String},title:{type:String},width:{type:String},...y.componentProperties("cmp-image")},setup(s){const e=s,n=t.useAttrs(),o=t.inject("isInEditor",k.AuthoringUtils.isInEditor()),r=t.ref(null),a=t.ref(e.src);let l={};e.smartCropRendition&&n.srcset&&(a.value=n.srcset);const i=t.computed(()=>{let u;if(e.width){const{width:m}=e;let h="px";/^(\d+|(\.\d+))(\.\d+)?%$/.test(m)&&(h=""),u={"--asset-max-inline-size":`${m}${h}`}}return u}),d=t.computed(()=>{const u=y.componentClassNames(e.baseCssClass,e.appliedCssClassNames,e.cssClassNames,e.containerProps,o,e.aemNoDecoration);return u.push({"cq-dd-image":o||!1}),u}),c=t.computed(()=>{const u=t.h("figcaption",{class:`${e.baseCssClass}__title`,itemProp:"caption"},e.title),m=t.h("meta",{content:e.title,itemProp:"caption"}),h=[t.h("img",{alt:e.alt,src:a.value,class:[`${e.baseCssClass}__image`,{"cmp-asset":typeof e.width<"u"}]})];return e.title&&(h.push(u),e.displayPopupTitle&&h.push(m)),()=>h});let _;const E=u=>{let m;const{clientWidth:h}=r.value.parentNode;return u.reverse(),u.forEach(b=>{parseInt(b,10)>h&&(m=b)}),m},N=()=>{const u={};if(e.src){const m=new XMLHttpRequest,h=`${e.src.split("?")[0]}?req=set,json`;m.open("GET",h,!1),m.onload=()=>{var b;if(m.status>=200&&m.status<400){let g;const{responseText:C}=m,S=/^(?:\/\*jsonp\*\/)?\s*([^()]+)\(([\s\S]+),\s*"[0-9]*"\);?$/gim.exec(C);if(S&&S.length>=2){const w=S[2];/^{[\s\S]*}$/gim.test(w)&&(g=JSON.parse(w))}g&&((b=g.set)!=null&&b.relation)&&Array.isArray(g.set.relation)&&g.set.relation.forEach(w=>{u[parseInt(w.userdata.SmartCropWidth,10)]=`:${w.userdata.SmartCropDef}`})}},m.send()}return u},T=()=>{Object.keys(l).length===0&&(l=N());const u=E(Object.keys(l));if(u){const m=e.src.replace("?",`${l[u]}?`);a.value=m.replace("{dpr}",(window.devicePixelRatio||1).toString())}else a.value=e.src.replace("{dpr}",(window.devicePixelRatio||1).toString())},p=()=>{e.smartCropRendition?e.smartCropRendition==="SmartCrop:Auto"&&n.srcset?(a.value=n.srcset,T()):a.value=e.src.replace("{dpr}",(window.devicePixelRatio||1).toString()):a.value=e.src};return t.onMounted(()=>{const u=m=>{window.requestAnimationFrame(()=>{e.smartCropRendition==="SmartCrop:Auto"&&n.srcset&&r.value&&Array.isArray(m)&&m.length&&m.forEach(()=>{T()})})};_=new Ie(u),_.observe(r.value),p()}),t.onUnmounted(()=>{r.value&&_.unobserve(r.value)}),t.watch(()=>e.src,async(u,m)=>{u!==m&&p()}),(u,m)=>{var h;return t.openBlock(),t.createElementBlock("div",{id:e.id,ref_key:"image",ref:r,class:t.normalizeClass(d.value),style:t.normalizeStyle(i.value)},[a.value?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[(h=e.imageLink)!=null&&h.url?(t.openBlock(),t.createBlock(B,t.mergeProps({key:0,class:`${e.baseCssClass}__link`,href:e.imageLink.url},e.imageLink.attributes),{default:t.withCtx(()=>[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(c.value),{key:a.value}))]),_:1},16,["class","href"])):(t.openBlock(),t.createBlock(t.resolveDynamicComponent(c.value),{key:a.value}))],64)):t.createCommentVNode("",!0)],14,je)}}}),st="",qe=["id","aria-label"],Me=t.defineComponent({inheritAttrs:!1,__name:"CoreLanguageNavigation",props:{items:{type:Array,default:()=>[]},accessibilityLabel:{type:String,default:""},...y.componentProperties("cmp-languagenavigation")},setup(s){const e=s,n=t.inject("isInEditor",k.AuthoringUtils.isInEditor()),o=t.computed(()=>y.componentClassNames(e.baseCssClass,e.appliedCssClassNames,e.cssClassNames,e.containerProps,n,e.aemNoDecoration)),r=a=>{if((a||[]).length===0||typeof a>"u")return;const l=a.map(i=>{let d=t.h("span",{class:`${e.baseCssClass}__item-title`,lang:i.language},[i.title]);return i.level>0&&(d=t.h(B,{"aria-current":`${i.active?"page":!1}`,class:`${e.baseCssClass}__item-link`,href:i.link.url,title:i.title,hrefLang:i.language,lang:i.language,rel:"alternate"},()=>i.title)),t.h("li",{class:[`${e.baseCssClass}__item`,`${e.baseCssClass}__item--level-${i==null?void 0:i.level}`,`${e.baseCssClass}__item--countrycode-${i.country}`,`${e.baseCssClass}__item--langcode-${i.language}`,{[`${e.baseCssClass}__item--active`]:i==null?void 0:i.active}]},[d,r(i.children)])});return t.h("ul",{class:`${e.baseCssClass}__group`},l)};return(a,l)=>(t.openBlock(),t.createElementBlock("nav",{id:e.id,"aria-label":e.accessibilityLabel.length?e.accessibilityLabel:"Language Navigation",class:t.normalizeClass(o.value),itemScope:"",itemType:"http://schema.org/SiteNavigationElement",role:"navigation"},[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(r(e.items))))],10,qe))}}),Ue=["id","aria-label"],Ve=t.defineComponent({inheritAttrs:!1,__name:"CoreNavigation",props:{items:{type:Array,default:()=>[]},accessibilityLabel:{type:String,default:""},...y.componentProperties("cmp-navigation")},setup(s){const e=s,n=t.inject("isInEditor",k.AuthoringUtils.isInEditor()),o=t.computed(()=>y.componentClassNames(e.baseCssClass,e.appliedCssClassNames,e.cssClassNames,e.containerProps,n,e.aemNoDecoration)),r=a=>{if((a||[]).length===0||typeof a>"u")return;const l=a.map(i=>t.h("li",{class:[`${e.baseCssClass}__item`,`${e.baseCssClass}__item--level-${i==null?void 0:i.level}`,{[`${e.baseCssClass}__item--active`]:i==null?void 0:i.active}]},[t.h(B,{"aria-current":`${i.active?"page":!1}`,class:`${e.baseCssClass}__item-link`,href:i.link.url,title:i.title,navigable:i==null?void 0:i.navigable},()=>i.title),r(i.children)]));return t.h("ul",{class:`${e.baseCssClass}__group`},l)};return(a,l)=>(t.openBlock(),t.createElementBlock("nav",{id:e.id,"aria-label":e.accessibilityLabel.length?e.accessibilityLabel:"Navigation",class:t.normalizeClass(o.value),itemScope:"",itemType:"http://schema.org/SiteNavigationElement",role:"navigation"},[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(r(e.items))))],10,Ue))}}),He=["id"],Fe=t.defineComponent({inheritAttrs:!1,__name:"CoreSeparator",props:{...y.componentProperties("cmp-separator")},setup(s){const e=s,n=t.inject("isInEditor",k.AuthoringUtils.isInEditor()),o=t.computed(()=>y.componentClassNames(e.baseCssClass,e.appliedCssClassNames,e.cssClassNames,e.containerProps,n,e.aemNoDecoration));return(r,a)=>(t.openBlock(),t.createElementBlock("div",{id:e.id,class:t.normalizeClass(o.value)},[t.createElementVNode("hr",{class:t.normalizeClass(`${e.baseCssClass}__horizontal-rule`)},null,2)],10,He))}}),We=["id"],F=t.defineComponent({inheritAttrs:!1,__name:"CoreTitle",props:{isNested:{type:Boolean,default:!1},link:{type:Object,default:()=>({valid:!0,attributes:{}})},text:{type:String,default:""},type:{type:String,default:"h1"},...y.componentProperties("cmp-title")},setup(s){const e=s,n=t.useAttrs(),o=P.useRoute(),r=t.inject("isInEditor",k.AuthoringUtils.isInEditor()),a=t.computed(()=>{const c=y.componentClassNames(e.baseCssClass,e.appliedCssClassNames,e.cssClassNames,e.containerProps,r,e.aemNoDecoration);return c.push({"cq-dd-title":r}),c}),l=t.ref((n==null?void 0:n.linkDisabled)!==!0),i=t.computed(()=>e.isNested?"-":"__"),d=t.computed(()=>o.path&&typeof o.path<"u"?o.path:null);return t.watch(()=>n==null?void 0:n.linkDisabled,async(c,_)=>{c!==_&&(l.value=c!==!0)}),(c,_)=>(t.openBlock(),t.createElementBlock("div",{id:e.id,class:t.normalizeClass(a.value)},[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(e.type),{class:t.normalizeClass(`${c.baseCssClass}${i.value}text`)},{default:t.withCtx(()=>{var E,N;return[l.value?(t.openBlock(),t.createBlock(B,t.mergeProps({key:0,class:`${c.baseCssClass}${i.value}link`,href:((E=e.link)==null?void 0:E.url)||d.value},(N=e.link)==null?void 0:N.attributes),{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(s.text),1)]),_:1},16,["class","href"])):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.createTextVNode(t.toDisplayString(s.text),1)],64))]}),_:1},8,["class"]))],10,We))}}),Ge=["id"],ve=["innerHTML"],Ye=t.defineComponent({inheritAttrs:!1,__name:"CoreTeaser",props:{actions:{type:Array},description:{type:String},imageAlt:{type:String,default:""},imagePath:{type:String},link:{type:Object},pretitle:{type:String},title:{type:String},titleType:{type:String,default:"h2"},...y.componentProperties("cmp-teaser")},setup(s){const e=s,n=t.inject("isInEditor",k.AuthoringUtils.isInEditor()),o=t.computed(()=>{const i=y.componentClassNames(e.baseCssClass,e.appliedCssClassNames,e.cssClassNames,e.containerProps,n,e.aemNoDecoration);return i.push({"cq-dd-teaser":n}),i}),r=t.computed(()=>{var i,d;return{class:`${e.baseCssClass}__link`,href:(i=e.link)==null?void 0:i.url,...(d=e.link)==null?void 0:d.attributes}}),a=t.computed(()=>({baseCssClass:`${e.baseCssClass}__title`,isInEditor:n,isNested:!0,link:e.link,linkDisabled:!e.link,text:e.title,type:e.titleType})),l=i=>A.sanitize(i);return(i,d)=>(t.openBlock(),t.createElementBlock("div",{id:e.id,class:t.normalizeClass(o.value)},[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(e.link?B:"section"),t.normalizeProps(t.guardReactiveProps(e.link?r.value:!1)),{default:t.withCtx(()=>[e.pretitle||e.title||e.description?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(`${e.baseCssClass}__content`)},[e.pretitle?(t.openBlock(),t.createElementBlock("p",{key:0,class:t.normalizeClass(`${e.baseCssClass}__pretitle`)},t.toDisplayString(e.pretitle),3)):t.createCommentVNode("",!0),e.title?(t.openBlock(),t.createBlock(F,t.normalizeProps(t.mergeProps({key:1},a.value)),null,16)):t.createCommentVNode("",!0),e.description?(t.openBlock(),t.createElementBlock("div",{key:2,class:t.normalizeClass(`${e.baseCssClass}__description`),innerHTML:`${l(e.description)}`},null,10,ve)):t.createCommentVNode("",!0),e.actions&&e.actions.length>0?(t.openBlock(),t.createElementBlock("div",{key:3,class:t.normalizeClass(`${e.baseCssClass}__action-container`)},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.actions,(c,_)=>(t.openBlock(),t.createBlock(B,t.mergeProps({id:c.id,key:`link-${_}`,class:`${e.baseCssClass}__action-link`,href:c.link.url,title:c.title},c.link.attributes),{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(c.title),1)]),_:2},1040,["id","class","href","title"]))),128))],2)):t.createCommentVNode("",!0)],2)):t.createCommentVNode("",!0),e.imagePath?(t.openBlock(),t.createElementBlock("div",{key:1,class:t.normalizeClass(`${e.baseCssClass}__image`)},[t.createVNode(H,{alt:e.imageAlt,"is-in-editor":t.unref(n),src:e.imagePath,width:"100%"},null,8,["alt","is-in-editor","src"])],2)):t.createCommentVNode("",!0)]),_:1},16))],10,Ge))}}),nt="",Je=["id","innerHTML"],Xe=["id"],Qe=t.defineComponent({inheritAttrs:!1,__name:"CoreText",props:{cqPath:{type:String,default:""},richText:{type:Boolean,default:!1},text:{type:String},...y.componentProperties("cmp-text")},setup(s){const e=s,n=P.useRouter(),o=t.inject("isInEditor",k.AuthoringUtils.isInEditor()),r=t.computed(()=>y.componentClassNames(e.baseCssClass,e.appliedCssClassNames,e.cssClassNames,e.containerProps,o,e.aemNoDecoration)),a=t.ref(null),l=c=>A.sanitize(c),i=t.computed(()=>{const c=e.cqPath?e.cqPath.substring(e.cqPath.lastIndexOf("/")+1):"";return e.id?e.id:c}),d=()=>{if(a.value){const c=n.getRoutes().map(_=>_.path);!k.AuthoringUtils.isEditMode()&&!k.AuthoringUtils.isPreviewMode()&&a.value.querySelectorAll("a").forEach(_=>{_.classList.add("cmp-link");const E=_.getAttribute("target")||"_self",N=_.getAttribute("href")||"#";_.onclick=T=>{E!=="_blank"&&c.includes(N)&&(T.preventDefault(),n.push(N))}})}};return t.onMounted(()=>{d()}),t.onUpdated(()=>{d()}),(c,_)=>e.richText?(t.openBlock(),t.createElementBlock("div",{key:0,id:i.value,ref_key:"richTextElement",ref:a,class:t.normalizeClass(r.value),"data-rte-editelement":"",innerHTML:`${l(e.text)}`},null,10,Je)):(t.openBlock(),t.createElementBlock("div",{key:1,id:i.value,class:t.normalizeClass(r.value)},[t.createElementVNode("p",{class:t.normalizeClass(`${e.baseCssClass}__paragraph`)},t.toDisplayString(e.text),3)],10,Xe))}});f.BreadcrumbEditConfig=J,f.ButtonEditConfig=X,f.CoreBreadcrumb=le,f.CoreButton=de,f.CoreDownload=ue,f.CoreEmbed=be,f.CoreImage=H,f.CoreLanguageNavigation=Me,f.CoreLink=B,f.CoreNavigation=Ve,f.CoreSeparator=Fe,f.CoreTeaser=Ye,f.CoreText=Qe,f.CoreTitle=F,f.DownloadEditConfig=Q,f.EmbedEditConfig=Z,f.ImageEditConfig=K,f.LanguageNavigationEditConfig=ee,f.NavigationEditConfig=te,f.TeaserEditConfig=se,f.TextEditConfig=oe,f.TitleEditConfig=ne,Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});
